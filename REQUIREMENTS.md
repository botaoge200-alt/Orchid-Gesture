# 兰花指 (Orchid Gesture) - 项目需求与技术规划

## 1. 项目愿景
开发一款基于 Web 技术的**即时反馈服装设计软件**，专注于**视觉模拟**而非工业生产控制。
目标用户为服装设计师，提供“所见即所得”的设计体验，支持实时预览、改色、版型微调。

## 2. 核心功能 (MVP V1.0)

### 2.1 基础架构
- **软件形态：** B/S 架构（浏览器端运行），未来可打包为桌面端 (Electron)。
- **鉴权机制：** 启动/访问时强制登录，通过联网验证保障软件授权（防盗版）。
- **后端服务：** 负责用户账户管理、验证接口、云端素材库存储。

### 2.2 3D 核心能力 (Three.js)
- **真实度目标：** **层次二 (PBR 材质级)**。
  - 模拟真实布料质感（针织、丝绸、棉麻）的凹凸和光泽。
  - 不追求实时物理布料解算（Cloth Simulation），采用预烘焙动画。
- **所见即所得 (WYSIWYG)：** 设计师在右侧调整参数，中间 3D 视图实时更新。

### 2.3 关键业务功能
- **精细化改色 (SVG 映射)：**
  - 支持局部改色（如领口、袖口单独换色）。
  - 支持复杂图案（如夹条、格纹）的颜色自定义，通过 SVG 动态合成贴图实现。
- **版型微调 (Morph Targets)：**
  - 通过滑块控制 3D 模型的形态。
  - **身体参数：** 身高、胖瘦。
  - **衣物参数：** 裙长、裙摆蓬松度、衣袖长短。
  - *技术实现：* 依赖模型资产预置的 Shape Keys (变形通道)。
- **素材库 (UGC 激励)：**
  - 官方提供基础款式（白模）和结构。
  - 鼓励用户上传**花型/面料**（2D图片）。
  - 上传查重机制（哈希算法）防止刷分，通过积分系统激励用户。

## 3. 技术栈选型
- **前端/客户端：** React 18, TypeScript, Vite
- **3D 引擎：** Three.js, React-Three-Fiber (R3F), Drei
- **UI 组件库：** Ant Design 或 TailwindCSS (待定)
- **后端 (规划中)：** Node.js (NestJS) 或 Python (FastAPI)
- **数据库 (规划中)：** PostgreSQL 或 SQLite

## 4. 开发路线图 (Roadmap)
- [ ] **Phase 1: 地基搭建** (当前阶段)
  - 项目初始化，3D 场景跑通，简单的胶囊体展示。
- [ ] **Phase 2: 核心验证**
  - 实现 SVG 动态贴图换色。
  - 实现 Morph Target 变形控制。
- [ ] **Phase 3: 业务完善**
  - 接入后端登录验证。
  - 完善 UI 交互面板。
- [ ] **Phase 4: 资产注入**
  - 替换为高精度美术模型，发布内测版。
